<div class="breadcrumbs">
  <div class="container">
    <div class="col-md-12">
      <ul>
        <li>Consultar Reserva</li>
      </ul>
    </div>
  </div>
</div>

<div class="container content">

  <div *ngIf="required" align="center">
    <div style="width:475px;margin-top:10px" class="alert alert-success">
      <table>
        <tr>
          <td><img src="/assets/imagens/exclamation.png" /></td>
          <td>
            <h6 style="white-space: pre;"><b>Não há registros para o critério de busca informado!</b></h6>
          </td>
        </tr>
      </table>
    </div>
  </div>



  <div class="col-md-12 search-add">
    <button ID="btnBuscar" (click)="buscar()" Class="btn btn-primary pull-left">Buscar</button>
  </div>

  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }">
  </ngx-loading>


  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

      <h5>Escolha o item de busca:</h5>

      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="border:1px solid #ccc; ">



        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
          <h5>Reserva:</h5>
          <input type="radio" name="btnradio">
        </div>
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
          <h5>Check-In:</h5>
          <input type="radio" name="btnradio">
          <br>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <h5>No-Show:</h5>
          <input type="radio" name="btnradio">
          <br>
        </div>


        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div class="row">
            <div class="row">
              <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                <h5>Data de Início:</h5>
                <div class="input-group">
                  <input type='text' name="datainicio" data-mask="00/00/0000"
                    (dateChanged)="Quiosque.dataInicio  = ($event.jsdate != null ? $event.jsdate.toISOString() : '')"
                    #di="ngx-mydatepicker" maxlength="10" (keyup)="dateMask($event)" placeholder="DD/MM/YYYY" ngx-mydatepicker #inicio="ngModel" id="dataInicio"
                    [(ngModel)]="dataInicio"  (click)="di.toggleCalendar()" class="form-control" [options]="{dateFormat: 'dd/mm/yyyy'}">
                  <span class="input-group-btn">
                    <input type="image" novalidate class="btn btn-default-calendar" (click)="di.toggleCalendar()"
                      src="assets/imagens/calendar.png">
                  </span>
                </div>
                <br>
              </div>
              <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                <h5>Data Final:</h5>
                <div class="input-group">

                  <input type='text' name="datafim"
                    (dateChanged)="Quiosque.dataFim = ($event.jsdate != null ? $event.jsdate.toISOString() : '')"
                    #df="ngx-mydatepicker" maxlength="10" (keyup)="dateMask($event)" placeholder="DD/MM/YYYY" id="dataFim" ngx-mydatepicker #fim="ngModel"
                    [(ngModel)]="dataFim" class="form-control" (click)="df.toggleCalendar()" [options]="{dateFormat: 'dd/mm/yyyy'}">
                  <span class="input-group-btn">
                    <input type="image" novalidate class="btn btn-default-calendar" (click)="df.toggleCalendar()"
                      src="assets/imagens/calendar.png">
                  </span>
                </div>
              </div>
            </div>

            <!-- <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">

            <h5>Data Fim:</h5>
            <input type="text" class="form-control" placeholder="DD/MM/YYYY">
            <br>
          </div> -->

          </div>
        </div>
      </div>


      <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
        <h5>Nome do Beneficiário:</h5>
        <input type="text" id="nomeBeneficiario" name="nomeBeneficiario" [(ngModel)]="Quiosque.nomeBeneficiario"
          class="form-control" placeholder="Nome do Beneficiário" />
        <!-- <input type="text" [(ngModel)]="Quiosque.nomeBeneficiario" ID="descricao" name="descricao" class="form-control"
        placeholder="Descrição"> -->


      </div>

      <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2">
        <h5>CPF:</h5>
        <input type="text" id="cpf" name="cpf" mask="000.000.000-00" [(ngModel)]="Quiosque.cpf" class="form-control"
          placeholder="___.___.___-__">

      </div>

      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
        <h5>N° da Reserva:</h5>
        <input type="text" id="numeroReserva" name="numeroReserva" [(ngModel)]="Quiosque.numeroReserva"
          class="form-control" placeholder="N° da Reserva">

      </div>

      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
        <h5>Unidade:</h5>
        <select Class="form-control" id="unidade" name="unidade" [(ngModel)]="Quiosque.unidade">
          <option value="0">Selecione...</option>
          <option *ngFor="let item of this.sedes" [value]="item.sedeId">{{item.titulo}}</option>
        </select>

      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <h5>Status da Reserva:</h5>
        <select Class="form-control" id="statusReserva" name="statusReserva" [(ngModel)]="Quiosque.statusReserva">
          <option value="">Selecione...</option>
          <option value="Confirmada">Confirmada</option>
          <option value="Cancelada">Cancelada</option>
          <option value="Check-In">Check-In</option>
          <option value="No-Show">No-Show</option>
        </select>

      </div>


    </div>
  </div>

  <br>
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <table *ngIf="this.quiosques.length > 0" class="table list-users" cellspacing="0"
        style="border-collapse:collapse;">
        <tbody>

          <tr style="color:#002678;">
            <th class="th-lg"><a style="color:#002678;">Status</a></th>
            <th class="th-lg"><a style="color:#002678;">N° da Reserva:</a></th>
            <th class="th-lg"><a style="color:#002678;">Unidade</a></th>
            <th class="th-lg"><a style="color:#002678;">CPF</a></th>
            <th class="th-lg"><a style="color:#002678;">Beneficiário</a></th>
            <th class="th-lg"><a style="color:#002678;">Data</a></th>
            <th class="th-lg border-top-0" scope="col" abbr="Editar" style="width:5px;"></th>
            <th class="th-lg border-top-0" scope="col" abbr="Excluir" style="width:5px;"></th>
          </tr>


          <tr
            *ngFor="let quiosque of quiosques | paginate: { itemsPerPage: 10, currentPage: paginaAtual }; let i = index">

            <td>{{quiosque.statusReserva}}</td>
            <td>{{quiosque.reservaQuiosqueId}}</td>
            <td>{{quiosque.titulo}}</td>
            <td>{{quiosque.cpf}}</td>
            <td>{{quiosque.nome}}</td>
            <td>{{quiosque.data | date: 'dd/MM/yyyy'}}</td>
            <br>
            <td><a id="btnVisualizarReserva" title="Visualizar Reserva"
                [routerLink]="['../quiosque-detalhe', quiosque.reservaQuiosqueId]" class="glyphicon glyphicon-eye-open"
                style="cursor: pointer"></a>
            </td>

          </tr>
        </tbody>
      </table>
      <pagination-controls *ngIf="this.quiosques.length > 0" responsive="true" class="my-pagination"
        (pageChange)="paginaAtual = $event" previousLabel="Anterior" nextLabel="Próximo"></pagination-controls>
    </div>
  </div>